\documentclass{article}

\input{regression-test}

\RequirePackage[enable-debug ,check-declarations]{expl3}
\ExplSyntaxOn
\debug_on:n { deprecation }
\ExplSyntaxOff

\def\testrange[#1][#2]{%
  \TEST {[#1]}
    {%
      \unpacklipsum[#1]\let\savedlips\lipsumexp
      \unpacklipsum[#2]%
      \ifx\savedlips\lipsumexp\else
        \show\savedlips
        \show\lipsumexp
      \fi
    }%
}

\usepackage{lipsum}

\begin{document}

\START

\testrange[    ][1-7]
\testrange[1   ][1  ]
\testrange[ -  ][1-150]
\testrange[1-  ][1-150]
\testrange[1-2 ][1-2]
\testrange[1-2-][1-7]
\testrange[ -2-][1-7]
\testrange[ -2 ][1-2]

\END
